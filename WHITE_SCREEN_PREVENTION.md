# Предотвращение белого экрана в веб-версии приложения

## Основные причины белого экрана и способы их устранения

### 1. Неправильная иерархия контекстов

**Проблема:** Хуки, использующие контекст (например, useAuth), вызываются вне соответствующего провайдера.
**Решение:** Убедиться, что все провайдеры контекстов правильно расположены в иерархии компонентов.

### 2. Ошибки в стилях для веб-платформы

**Проблема:** Использование CSS-специфичных значений (например, '100vh') в StyleSheet.create.
**Решение:** Использовать Dimensions.get('window') для получения размеров экрана.

### 3. Проблемы с асинхронной загрузкой данных

**Проблема:** Компоненты рендерятся до загрузки необходимых данных.
**Решение:** Добавить индикаторы загрузки и правильную обработку состояний загрузки.

### 4. Ошибки импорта модулей

**Проблема:** Отсутствующие или неправильно импортированные модули.
**Решение:** Проверить все импорты и убедиться, что зависимости установлены.

## Рекомендации по разработке

### 1. Правильная структура App.tsx

- AuthProvider должен оборачивать все компоненты, которые используют useAuth
- Провайдеры контекстов должны быть правильно вложены
- Добавить отладочные сообщения для отслеживания состояния

### 2. Стили для веб-платформы

- Использовать Platform.select для платформо-специфичных стилей
- Заменить 'boxShadow' вместо устаревших 'shadow\*' свойств
- Использовать Dimensions.get('window') для размеров

### 3. Обработка ошибок

- Добавить ErrorBoundary для отлова ошибок рендеринга
- Реализовать fallback UI для различных состояний

### 4. Тестирование

- Регулярно тестировать веб-версию после изменений
- Проверять консоль браузера на наличие ошибок
- Убедиться, что все экраны корректно отображаются

## Команды для запуска

### Запуск веб-версии для разработки:

```bash
npx expo start --web
```

### Сборка статической версии:

```bash
npx expo export --platform web
```

### Запуск сервера для статических файлов:

```bash
node simple-server.js
```
