# Инструкция по развертыванию веб-версии на Beget

## Предварительный просмотр веб-версии

Перед загрузкой на Beget рекомендуется проверить веб-версию локально:

1. Запустите сервер предварительного просмотра:

   ```
   node preview_server.js
   ```

2. Откройте браузер и перейдите по адресу: http://localhost:3000

3. Для создания полноценной веб-версии остановите сервер (Ctrl+C) и выполните:

   ```
   npx expo export:web
   ```

4. После экспорта снова запустите сервер предварительного просмотра

## Подготовка веб-версии для загрузки

1. Убедитесь, что команда `npx expo export:web` была выполнена успешно
2. В папке проекта должна появиться папка `web-export` с файлами веб-приложения

## Загрузка на Beget через SSH/SFTP

### Способ 1: Использование PowerShell скрипта (рекомендуется)

1. Отредактируйте файл `deploy_to_beget.ps1` и укажите ваши данные Beget:

   - `$BegetHost` - хост Beget
   - `$BegetUser` - имя пользователя
   - `$BegetPassword` - пароль
   - `$BegetPath` - путь к веб-каталогу

2. Запустите скрипт:
   ```
   .\deploy_to_beget.ps1
   ```

### Способ 2: Использование WinSCP

1. Скачайте и установите WinSCP: https://winscp.net/
2. Откройте WinSCP
3. Создайте новое подключение:
   - Протокол: SFTP
   - Хост: ваш хост Beget
   - Пользователь: ваше имя пользователя
   - Пароль: ваш пароль
   - Порт: 22
4. Подключитесь к серверу
5. Перейдите в папку веб-каталога (обычно `/home/ваш_пользователь/www`)
6. Загрузите содержимое папки `web-export` в эту папку

### Способ 3: Использование встроенных средств Windows

1. Создайте архив папки `web-export`:

   ```
   powershell Compress-Archive -Path web-export\* -DestinationPath web-export.zip -Force
   ```

2. Используйте любой SFTP клиент для загрузки архива на сервер

3. Подключитесь к серверу по SSH и распакуйте архив:
   ```
   cd /путь/к/вашему/веб-каталогу
   unzip -o web-export.zip
   rm web-export.zip
   ```

## Проверка развертывания

После загрузки откройте ваш сайт в браузере по адресу вашего домена.

Если все сделано правильно, вы увидите веб-версию приложения футбольной школы "Арсенал".

## Возможные проблемы и их решения

### Проблема: Страница не открывается или отображается ошибка 404

Решение:

1. Убедитесь, что файл `index.html` находится в корне веб-каталога
2. Проверьте права доступа к файлам (обычно должны быть 644 для файлов и 755 для папок)

### Проблема: Стили или скрипты не загружаются

Решение:

1. Проверьте пути к файлам в `index.html`
2. Убедитесь, что все файлы были загружены корректно

### Проблема: Ошибка подключения к базе данных

Решение:

1. Проверьте настройки подключения в файле `.env.production`
2. Убедитесь, что база данных доступна извне (настройки Beget)

## Дополнительная информация

Для автоматизации процесса загрузки рекомендуется использовать скрипт `deploy_to_beget.ps1`, который:

- Автоматически создает архив веб-файлов
- Загружает его на сервер через SFTP
- Распаковывает архив на сервере
- Удаляет временные файлы

Перед использованием скрипта убедитесь, что у вас установлены необходимые модули PowerShell:

```
Install-Module -Name Posh-SSH -Force
```
