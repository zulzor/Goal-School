# üìã –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–´ –°–û–•–†–ê–ù–ï–ù–ò–Ø –ö–û–ù–¢–ï–ö–°–¢–ê –ó–ê–î–ê–ß

## üéØ –û–ü–ò–°–ê–ù–ò–ï

–≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–¥–∞—á –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ —á–∞—Ç–∞ –≤ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É—Ç–±–æ–ª—å–Ω–æ–π —à–∫–æ–ª—ã. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–¥–∞—á –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –µ–≥–æ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞.

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –°–µ—Ä–≤–∏—Å—ã

- `TaskContextService` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∑–∞–¥–∞—á
- `useTaskContext` - React —Ö—É–∫ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- `TaskContextPanel` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–∞–Ω–µ–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–¥–∞—á
- `ChatScreen` - –ø—Ä–∏–º–µ—Ä —ç–∫—Ä–∞–Ω–∞ —á–∞—Ç–∞ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–¥–∞—á

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

```
src/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ TaskContextService.ts
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ useTaskContext.ts
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ TaskContextPanel.tsx
‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îî‚îÄ‚îÄ ChatScreen.tsx
‚îî‚îÄ‚îÄ navigation/
    ‚îî‚îÄ‚îÄ AppNavigator.tsx (–æ–±–Ω–æ–≤–ª–µ–Ω)
```

## üß† –û–°–ù–û–í–ù–´–ï –ö–û–ù–¶–ï–ü–¶–ò–ò

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏ (TaskContext)

```typescript
interface TaskContext {
  taskId: string;
  taskTitle: string;
  status: 'pending' | 'in_progress' | 'completed' | 'cancelled';
  lastUpdated: string;
  progress?: number;
  notes?: string;
}
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—Å–∏–∏ (ChatSessionContext)

```typescript
interface ChatSessionContext {
  sessionId: string;
  taskContexts: TaskContext[];
  lastAccessed: string;
  chatHistory: Array<{
    role: 'user' | 'assistant';
    content: string;
    timestamp: string;
  }>;
}
```

## üöÄ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ TaskContextService

```typescript
import TaskContextService from '../services/TaskContextService';

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–¥–∞—á –¥–ª—è —Å–µ—Å—Å–∏–∏
await TaskContextService.saveSessionContext(sessionId, taskContexts);

// –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–¥–∞—á –¥–ª—è —Å–µ—Å—Å–∏–∏
const contexts = await TaskContextService.loadSessionContext(sessionId);

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏
await TaskContextService.updateTaskStatus(
  sessionId,
  taskId,
  'completed',
  100,
  '–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ'
);

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
await TaskContextService.addTaskToContext(sessionId, {
  taskId: 'new_task',
  taskTitle: '–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞',
  status: 'pending',
});
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–∞ useTaskContext

```typescript
import { useTaskContext } from '../hooks/useTaskContext';

const MyComponent = () => {
  const {
    taskContexts,
    loading,
    error,
    saveContext,
    loadContext,
    updateTaskStatus,
    addTaskToContext
  } = useTaskContext();

  // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  useEffect(() => {
    loadContext('session_12345');
  }, []);

  // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥
  if (loading) return <Text>–ó–∞–≥—Ä—É–∑–∫–∞...</Text>;
  if (error) return <Text>–û—à–∏–±–∫–∞: {error}</Text>;

  return (
    <TaskContextPanel
      sessionId="session_12345"
      onTaskSelect={(task) => console.log('–í—ã–±—Ä–∞–Ω–∞ –∑–∞–¥–∞—á–∞:', task)}
    />
  );
};
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ TaskContextPanel

```typescript
import { TaskContextPanel } from '../components/TaskContextPanel';

const ChatInterface = () => {
  return (
    <View>
      <TaskContextPanel
        sessionId="session_12345"
        onTaskSelect={(task) => {
          // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∑–∞–¥–∞—á–∏
          console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –∑–∞–¥–∞—á—É:', task.taskTitle);
        }}
      />
      {/* –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–∞—Ç–∞ */}
    </View>
  );
};
```

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```typescript
const MOCK_TASKS: Omit<TaskContext, 'lastUpdated'>[] = [
  {
    taskId: 'task1',
    taskTitle: '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è',
    status: 'completed',
    progress: 100,
    notes: '–í—Å–µ —ç–∫—Ä–∞–Ω—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ',
  },
  // ... –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏
];
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ ChatScreen

–≠–∫—Ä–∞–Ω [ChatScreen.tsx](file:///C:/Users/jolab/Desktop/Goal-School/GoalSchoolApp/src/screens/ChatScreen.tsx) –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã:

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∑–∞–¥–∞—á
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

## üîß –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –í–ù–ï–®–ù–ò–ú –ß–ê–¢–û–ú

–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º —á–∞—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º Qoder):

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Session ID**: –°–æ–∑–¥–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏ –≤—ã–∑—ã–≤–∞–π—Ç–µ:
   ```javascript
   await TaskContextService.saveSessionContext(sessionId, currentTaskContexts);
   ```
3. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞ –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:
   ```javascript
   const savedContext = await TaskContextService.loadSessionContext(sessionId);
   ```
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤**: –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å—ã:
   ```javascript
   await TaskContextService.updateTaskStatus(sessionId, taskId, 'completed', 100);
   ```

## üõ†Ô∏è –ù–ê–°–¢–†–û–ô–ö–ê

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- `@react-native-async-storage/async-storage` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- React Navigation –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install @react-native-async-storage/async-storage
# –∏–ª–∏
yarn add @react-native-async-storage/async-storage
```

### –ò–º–ø–æ—Ä—Ç—ã –≤ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç —ç–∫—Ä–∞–Ω–∞ —á–∞—Ç–∞ –≤ [AppNavigator.tsx](file:///C:/Users/jolab/Desktop/Goal-School/GoalSchoolApp/src/navigation/AppNavigator.tsx):

```typescript
import { ChatScreen } from '../screens/ChatScreen';
```

## üìà –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- AsyncStorage –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –æ–±—ä–µ–º—É —Ö—Ä–∞–Ω–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ –±–æ–ª–µ–µ 1000 –∑–∞–¥–∞—á –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- –î–∞–Ω–Ω—ã–µ —Å–∂–∏–º–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

- –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å–µ—Å—Å–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–µ—Å—Å–∏–π
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∑–∞–¥–∞—á

## üêõ –û–¢–õ–ê–î–ö–ê

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:

```javascript
console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–¥–∞—á:', error);
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ù–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É AsyncStorage
2. **–ü—É—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π sessionId
3. **–û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è React Native Async Storage](https://react-native-async-storage.github.io/async-storage/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è React Navigation](https://reactnavigation.org/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è React Native Paper](https://callstack.github.io/react-native-paper/)

---

_–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-09-05_
