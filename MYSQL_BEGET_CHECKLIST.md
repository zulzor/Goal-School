# Чеклист настройки MySQL на Beget для GoalSchool

## Подготовка

### [ ] 1. Проверка данных базы данных Beget

- [ ] Сервер для подключения сайтов: localhost
- [ ] Имя пользователя: mrzulonz_db_ars
- [ ] Имя БД: mrzulonz_db_ars
- [ ] Пароль: [ваш пароль]
- [ ] Сервер для внешних подключений: mrzulonz.beget.tech

### [ ] 2. Настройка файла .env

- [ ] Открыть файл `.env` в корне проекта
- [ ] Заменить пароль в параметрах MySQL на реальный пароль от вашей базы данных:
  ```
  MYSQL_HOST=localhost
  MYSQL_PORT=3306
  MYSQL_DATABASE=mrzulonz_db_ars
  MYSQL_USER=mrzulonz_db_ars
  MYSQL_PASSWORD=ваш_реальный_пароль_от_базы_данных
  ```

## Настройка приложения

### [ ] 3. Установка зависимостей

- [ ] Выполнить `npm install` для установки новых зависимостей (mysql2)

### [ ] 4. Инициализация базы данных

**ВАЖНО**: Инициализация базы данных должна выполняться на сервере Beget через SSH, а не локально, так как Beget не разрешает внешние подключения к базе данных.

## Настройка в интерфейсе приложения

### [ ] 5. Запуск приложения

- [ ] Запустить приложение: `npm start`
- [ ] Открыть в браузере: http://localhost:19006

### [ ] 6. Переключение на MySQL

- [ ] Перейти в профиль пользователя
- [ ] Нажать "Настройки базы данных"
- [ ] Выбрать "MySQL" в качестве типа базы данных
- [ ] Проверить подключение (должно показать "Подключено")

### [ ] 7. Создание тестовых пользователей

- [ ] В настройках базы данных нажать "Создать тестового пользователя"
- [ ] Убедиться, что тестовый пользователь создан успешно

## Тестирование функциональности

### [ ] 8. Проверка основных функций

- [ ] Регистрация нового пользователя
- [ ] Вход в систему
- [ ] Просмотр новостей
- [ ] Просмотр расписания
- [ ] Просмотр плана питания

## Развертывание на Beget

### [ ] 9. Подготовка файлов для развертывания

- [ ] Собрать веб-версию: `npm run build`
- [ ] Убедиться, что файлы собраны в папке `web-build`

### [ ] 10. Загрузка на Beget

- [ ] Загрузить файлы через файловый менеджер Beget
- [ ] Распаковать в корневую директорию сайта

### [ ] 11. Настройка Node.js приложения на Beget

- [ ] Перейти на вкладку "Node.js" в настройках сайта
- [ ] Указать точку входа: `server.js`
- [ ] Установить зависимости:
  ```
  npm install express mysql2 dotenv bcryptjs
  ```

### [ ] 12. Настройка переменных окружения на Beget

- [ ] В разделе "Переменные окружения" добавить:
  ```
  MYSQL_HOST=localhost
  MYSQL_PORT=3306
  MYSQL_DATABASE=mrzulonz_db_ars
  MYSQL_USER=mrzulonz_db_ars
  MYSQL_PASSWORD=ваш_реальный_пароль_от_базы_данных
  NODE_ENV=production
  PORT=3000
  JWT_SECRET=ваш_секретный_ключ_jwt
  BCRYPT_SALT_ROUNDS=10
  ```

### [ ] 13. Инициализация базы данных на Beget

- [ ] Подключиться по SSH к вашему аккаунту Beget
- [ ] Перейти в директорию вашего сайта
- [ ] Выполнить инициализацию:
  ```
  node scripts/init-mysql-database.js
  ```

### [ ] 14. Запуск приложения

- [ ] Перезапустить Node.js приложение в панели Beget
- [ ] Проверить логи на наличие ошибок
- [ ] Открыть сайт в браузере

## Финальная проверка

### [ ] 15. Проверка работы приложения

- [ ] Открыть сайт в браузере
- [ ] Проверить вход с тестовыми учетными данными
- [ ] Проверить основные функции приложения
- [ ] Убедиться, что данные сохраняются в MySQL

### [ ] 16. Документирование

- [ ] Задокументировать параметры развертывания
- [ ] Записать учетные данные для доступа
- [ ] Создать инструкцию по обслуживанию

---

✅ Настройка MySQL на Beget завершена успешно!
❌ Обнаружены проблемы, требующие решения.
