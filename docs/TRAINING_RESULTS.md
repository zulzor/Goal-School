# Система ввода результатов тренировок

## Обзор

Система ввода результатов тренировок позволяет тренерам оценивать performance учеников по различным критериям и сохранять результаты для дальнейшего анализа.

## Функциональность

### Для тренеров

1. **Просмотр результатов**
   - Список всех результатов тренировок учеников
   - Фильтрация по ученикам и тренировкам
   - Отображение общей оценки

2. **Добавление результатов**
   - Выбор ученика из списка
   - Выбор тренировки из списка
   - Оценка по 4 критериям:
     - Технические навыки (1-5)
     - Физическая подготовка (1-5)
     - Работа в команде (1-5)
     - Отношение (1-5)
   - Автоматический расчет общей оценки
   - Добавление примечаний

3. **Управление результатами**
   - Удаление результатов
   - Просмотр деталей результатов

## Техническая реализация

### Сервисы

#### TrainingResultsService

Основной сервис для работы с результатами тренировок.

**Методы:**

- `getCoachResults(coachId: string)`: Получение всех результатов тренера
- `addResult(result: Omit<TrainingResult, 'id' | 'dateRecorded'>)`: Добавление нового результата
- `updateResult(id: string, updates: Partial<TrainingResult>)`: Обновление результата
- `deleteResult(id: string)`: Удаление результата
- `getStudentById(studentId: string)`: Получение ученика по ID
- `getTrainingById(trainingId: string)`: Получение тренировки по ID
- `getStudentsByBranch(branchId: string)`: Получение учеников филиала
- `getTrainingsByCoach(coachId: string)`: Получение тренировок тренера

### Компоненты

#### TrainingResultsScreen

Основной экран для работы с результатами тренировок.

**Функции:**

- Отображение списка результатов
- Модальное окно для добавления результатов
- Поиск по результатам
- Удаление результатов

### Типы данных

```typescript
interface Student {
  id: string;
  name: string;
  email: string;
  ageGroup: string;
  branchId: string;
}

interface TrainingSession {
  id: string;
  title: string;
  date: string;
  startTime: string;
  endTime: string;
  location: string;
  ageGroup: string;
  coachId: string;
  branchId: string;
}

interface TrainingResult {
  id: string;
  studentId: string;
  trainingId: string;
  coachId: string;
  technicalSkills: number; // 1-5
  physicalFitness: number; // 1-5
  teamwork: number; // 1-5
  attitude: number; // 1-5
  overallRating: number; // 1-5
  notes: string;
  dateRecorded: string;
  student?: Student;
  training?: TrainingSession;
}
```

## Хранение данных

Данные хранятся в локальном хранилище AsyncStorage с использованием следующих ключей:

- `training_results`: Результаты тренировок
- `students`: Ученики
- `training_sessions`: Тренировки

## Тестирование

Созданы unit-тесты для проверки функциональности сервиса:

- Тестирование получения результатов тренера
- Тестирование добавления новых результатов
- Тестирование удаления результатов
- Тестирование получения учеников по филиалу
- Тестирование получения тренировок по тренеру

## Интеграция

Система интегрирована в навигацию приложения и доступна тренерам через вкладку "Результаты" в нижнем меню.

## Безопасность

- Все данные хранятся локально на устройстве
- Доступ к функционалу ограничен только для тренеров
- Валидация входных данных перед сохранением

## Ограничения

- В текущей реализации данные хранятся локально и не синхронизируются между устройствами
- Нет возможности редактирования уже введенных результатов (только удаление и создание новых)
- Нет экспортной функции для результатов
