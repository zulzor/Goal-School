# Структура навигации приложения

## 1. Общая архитектура навигации

Приложение использует стековую навигацию в сочетании с навигацией по вкладкам для обеспечения интуитивно понятного пользовательского опыта. Основная навигация разделена на несколько уровней:

1. **Аутентификация** - экраны входа и регистрации
2. **Основная навигация** - навигация по вкладкам для авторизованных пользователей
3. **Детализация** - экраны с подробной информацией и специфическими функциями

## 2. Навигация для неавторизованных пользователей

### 2.1. Стек аутентификации

```
Auth Stack
├── LoginScreen
└── RegisterScreen
```

**Описание:**

- Пользователь попадает на экран входа при запуске приложения без активной сессии
- С экрана входа можно перейти на экран регистрации
- После успешной аутентификации пользователь переходит к основной навигации

### 2.2. Экран входа (LoginScreen)

**Путь:** `/login`

**Навигационные возможности:**

- Переход к основной навигации после успешного входа
- Переход к экрану регистрации

### 2.3. Экран регистрации (RegisterScreen)

**Путь:** `/register`

**Навигационные возможности:**

- Переход к основной навигации после успешной регистрации
- Переход к экрану входа

## 3. Основная навигация (для авторизованных пользователей)

### 3.1. Структура по вкладкам

```
Main Tabs
├── Home Tab
├── News Tab
├── Schedule Tab
├── Nutrition Tab
├── Role-specific Tabs
└── Profile/More Tab
```

### 3.2. Вкладка "Главная" (Home Tab)

**Путь:** `/home`

**Содержимое:**

- HomeScreen - основная информация и статистика
- Доступ к уведомлениям
- Быстрые ссылки на основные функции

**Навигационные возможности:**

- Переход к детализированным экранам через быстрые ссылки

### 3.3. Вкладка "Новости" (News Tab)

**Путь:** `/news`

**Содержимое:**

- NewsScreen - список новостей
- Возможность поиска и фильтрации новостей

**Навигационные возможности:**

- Переход к экрану деталей новости (NewsDetailScreen)

### 3.4. Вкладка "Расписание" (Schedule Tab)

**Путь:** `/schedule`

**Содержимое:**

- ScheduleScreen - календарь и список тренировок

**Навигационные возможности:**

- Переход к экрану деталей тренировки (TrainingDetailsScreen)

### 3.5. Вкладка "Питание" (Nutrition Tab)

**Путь:** `/nutrition`

**Содержимое:**

- NutritionScreen - рекомендации по питанию

**Навигационные возможности:**

- Переход к экрану деталей рекомендации (NutritionDetailScreen)

## 4. Ролевые вкладки

### 4.1. Для учеников

```
Student Role Tabs
├── Home
├── News
├── Schedule
├── Nutrition
├── Profile
└── Achievements
```

**Особенности:**

- Вкладка профиля содержит информацию о личном профиле
- Вкладка достижений отображает личные достижения

### 4.2. Для родителей

```
Parent Role Tabs
├── Home
├── News
├── Schedule (ребенка)
├── Nutrition
├── Child Progress
└── Achievements (ребенка)
```

**Особенности:**

- Вкладка расписания отображает расписание ребенка
- Вкладка прогресса отображает прогресс ребенка
- Вкладка достижений отображает достижения ребенка

### 4.3. Для тренеров

```
Coach Role Tabs
├── Home
├── News
├── Schedule
├── Nutrition
├── Attendance
├── Student Progress
└── Discipline Results
```

**Особенности:**

- Вкладка посещаемости для управления посещаемостью учеников
- Вкладка прогресса учеников для отслеживания прогресса
- Вкладка результатов по дисциплинам для внесения результатов

### 4.4. Для управляющих

```
Manager Role Tabs
├── Home
├── News
├── Schedule
├── Nutrition
├── Admin Panel
├── Analytics
├── Users
├── Skills
├── Branches
└── Database
```

**Особенности:**

- Админ-панель как центр управления
- Аналитика для просмотра статистики
- Управление пользователями
- Управление навыками
- Управление филиалами
- Настройки базы данных

### 4.5. Для SMM-менеджеров

```
SMM Manager Role Tabs
├── Home
├── News
├── Schedule
├── Nutrition
├── News Management
└── Nutrition Management
```

**Особенности:**

- Управление новостями
- Управление рекомендациями по питанию

## 5. Детализированные экраны

### 5.1. Экраны новостей

```
News Navigation
├── NewsListScreen (/news)
└── NewsDetailScreen (/news/:id)
```

### 5.2. Экраны расписания

```
Schedule Navigation
├── ScheduleScreen (/schedule)
└── TrainingDetailsScreen (/schedule/:id)
```

### 5.3. Экраны питания

```
Nutrition Navigation
├── NutritionScreen (/nutrition)
└── NutritionDetailScreen (/nutrition/:id)
```

### 5.4. Экраны профиля

```
Profile Navigation
├── ProfileScreen (/profile)
└── EditProfileScreen (/profile/edit)
```

### 5.5. Экраны администратора

```
Admin Navigation
├── AdminPanelScreen (/admin)
├── AttendanceAnalyticsScreen (/admin/analytics)
├── UserManagementScreen (/admin/users)
├── SkillsManagementScreen (/admin/skills)
├── BranchManagementScreen (/admin/branches)
└── DatabaseSettingsScreen (/admin/database)
```

## 6. Модальные экраны и оверлеи

### 6.1. Модальные формы

**Использование:**

- Формы создания/редактирования данных
- Подтверждения действий
- Настройки

**Примеры:**

- Модальное окно создания новости
- Модальное окно подтверждения удаления
- Модальное окно настроек уведомлений

### 6.2. Оверлеи

**Использование:**

- Индикаторы загрузки
- Уведомления
- Всплывающие подсказки

## 7. Навигация с учетом филиалов

### 7.1. Фильтрация контента

**Принцип:** Все экраны, отображающие данные, должны фильтровать контент в соответствии с филиалом пользователя.

**Реализация:**

- При загрузке данных добавляется фильтр по филиалу
- Для управляющих доступны все филиалы
- Для остальных ролей - только их филиал

### 7.2. Управление филиалами

**Доступ:** Только для управляющих

**Экраны:**

- BranchManagementScreen - список и управление филиалами
- BranchDetailScreen - детали филиала
- AssignCoachScreen - назначение тренеров филиалам

## 8. Навигационные паттерны

### 8.1. Паттерн "мастер-детали"

**Использование:** Для списков с детальной информацией

**Примеры:**

- Список новостей → Детали новости
- Список тренировок → Детали тренировки
- Список пользователей → Профиль пользователя

### 8.2. Паттерн "вложенная навигация"

**Использование:** Для сложных разделов с множеством экранов

**Примеры:**

- Админ-панель с подразделами
- Управление пользователями с формами создания/редактирования

### 8.3. Паттерн "модальное окно"

**Использование:** Для форм и подтверждений

**Примеры:**

- Формы создания/редактирования данных
- Подтверждения удаления
- Настройки

## 9. Обработка состояний навигации

### 9.1. Состояние загрузки

**Реализация:**

- Отображение индикатора загрузки при переходах
- Блокировка интерактивных элементов во время загрузки
- Отображение скелетонов для плавного UX

### 9.2. Состояние ошибки

**Реализация:**

- Отображение сообщений об ошибках
- Кнопка повтора операции
- Возможность перехода к предыдущему экрану

### 9.3. Состояние отсутствия данных

**Реализация:**

- Отображение сообщений об отсутствии данных
- Предложения по добавлению данных
- Иллюстрации и подсказки

## 10. Безопасность навигации

### 10.1. Контроль доступа

**Реализация:**

- Проверка ролей пользователя перед переходом
- Перенаправление при попытке доступа к закрытым разделам
- Скрытие навигационных элементов для недоступных разделов

### 10.2. Защита данных

**Реализация:**

- Проверка принадлежности данных филиалу пользователя
- Блокировка доступа к данным других филиалов
- Логирование попыток несанкционированного доступа

## 11. Оптимизация навигации

### 11.1. Предзагрузка данных

**Реализация:**

- Предзагрузка данных для часто посещаемых экранов
- Кэширование данных для быстрого отображения
- Интеллектуальная предзагрузка на основе истории использования

### 11.2. Ленивая загрузка

**Реализация:**

- Загрузка компонентов только при необходимости
- Разделение кода по разделам приложения
- Оптимизация размера бандла

## 12. Адаптация для разных платформ

### 12.1. Мобильные устройства

**Особенности:**

- Навигация по вкладкам внизу экрана
- Модальные окна для форм
- Жесты для навигации

### 12.2. Веб-версия

**Особенности:**

- Боковое меню для навигации
- Многостолбцовая верстка где возможно
- Поддержка клавиатурных сокращений
